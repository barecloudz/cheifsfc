generator client {
  provider   = "prisma-client"
  output     = "../src/generated/prisma"
  engineType = "client"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_DATABASE_URL")
}

model Team {
  id          Int      @id @default(autoincrement())
  name        String   @unique
  shortName   String?
  logo        String?
  manualWon   Int      @default(0)
  manualDrawn Int      @default(0)
  manualLost  Int      @default(0)
  manualGF    Int      @default(0)
  manualGA    Int      @default(0)
  homeMatches Match[]  @relation("HomeTeam")
  awayMatches Match[]  @relation("AwayTeam")
}

model Match {
  id           Int       @id @default(autoincrement())
  date         DateTime
  venue        String
  homeTeamId   Int
  awayTeamId   Int
  homeScore    Int?
  awayScore    Int?
  cancelled    Boolean   @default(false)
  cancelReason String?
  homeTeam     Team      @relation("HomeTeam", fields: [homeTeamId], references: [id])
  awayTeam     Team      @relation("AwayTeam", fields: [awayTeamId], references: [id])
  createdAt    DateTime  @default(now())
  updatedAt    DateTime  @updatedAt
}

model Player {
  id        Int      @id @default(autoincrement())
  name      String
  position  String
  number    Int?
  imageUrl  String?
  pace      Int      @default(50)
  shooting  Int      @default(50)
  passing   Int      @default(50)
  dribbling Int      @default(50)
  defending Int      @default(50)
  physical  Int      @default(50)
  cardType  String   @default("default")
  createdAt DateTime @default(now())
}

model SiteSettings {
  id            Int      @id @default(1)
  teamPhotoUrl  String?
  playerCardsOn Boolean  @default(false)
  cardTypes     String   @default("[]")
}
